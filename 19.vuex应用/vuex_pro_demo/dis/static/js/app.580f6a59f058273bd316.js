webpackJsonp([1],{"4ZUn":function(t,e){},"7nEL":function(t,e){},AFde:function(t,e){},Dllp:function(t,e){},JFL5:function(t,e){},Lfnf:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("//Fk"),a=n.n(o),r=n("Xxa5"),s=n.n(r),i=n("exGp"),c=n.n(i),u=n("bOdI"),l=n.n(u),d=n("7+uW"),h=document.documentElement.clientWidth,m={name:"app",data:function(){return{direction:"slide-left",touchLeft:2*h/5,touchStartPoint:0,distance:0,backBtn:null}},watch:{$route:function(t,e){var n=sessionStorage.getItem("routers")&&sessionStorage.getItem("routers").split(",")||[];0===n.length?(n.push(e.path),n.push(t.path),this.direction="slide-left"):-1!==n.indexOf(t.path)?(this.direction="slide-right",n.splice(n.indexOf(t.path)+1)):(this.direction="slide-left",n.push(t.path)),sessionStorage.setItem("routers",n.join(","))}},methods:{bodyTouchStart:function(t){this.backBtn=this.$router.history.current.meta.sliderable,this.backBtn&&(this.touchStartPoint=t.targetTouches[0].pageX,this.distance=0)},bodyTouchMove:function(t){if(this.backBtn&&this.touchStartPoint<this.touchLeft){if(t.targetTouches.length>1)return;this.distance=t.targetTouches[0].pageX-this.touchStartPoint}},bodyTouchEnd:function(t){this.backBtn&&this.touchStartPoint<this.touchLeft&&(this.touchStartPoint=0,this.distance>100&&(document.getElementById("app").classList.add("quickback"),this.$router.back(),setTimeout(function(){document.getElementById("app").classList.remove("quickback")},250)))}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"},on:{touchstart:t.bodyTouchStart,touchmove:t.bodyTouchMove,touchend:t.bodyTouchEnd}},[n("transition",{attrs:{name:t.direction}},[n("keep-alive",[t.$route.meta.keepAlive?n("router-view",{staticClass:"appView"}):t._e()],1)],1),t._v(" "),n("transition",{attrs:{name:t.direction}},[t.$route.meta.keepAlive?t._e():n("router-view",{staticClass:"appView"})],1)],1)},staticRenderFns:[]};var v=n("VU/8")(m,f,!1,function(t){n("vLLw")},"data-v-13d60660",null).exports,p=n("/ocq"),_=n("Dd8w"),g=n.n(_),b=n("R4Sj"),k={name:"Counter",data:function(){return{msg:"Counter组件",localCount:8}},computed:g()({count:function(){return this.$store.state.count},addBtnClass:function(){return this.count>6?"more-class":this.count<10&&this.count>6?"less-class":"normal"}},Object(b.d)(g()({mapCount:function(t){return t.count},countPlusLocalState:function(t){return t.count+this.localCount},getVal:function(t){return this.$store.getters.doneTodos},todoCount:function(t){return this.$store.getters.doneTodoCount}},Object(b.b)(["doneTodoCount"])))),methods:g()({addCount:function(){this.$store.commit("increment",{len:2})},addMutaion:function(){this.$store.commit("ADD_MUTATION")}},Object(b.c)(["increment"]),{dispatchAction:function(){this.$store.dispatch("checkout",{len:6})}})},A={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v(t._s(t.msg))]),t._v(" "),n("span",{staticClass:"count"},[t._v(t._s(t.count))]),t._v(" "),n("span",[t._v(t._s(t.countPlusLocalState))]),t._v(" "),n("div",[t._v(t._s(t.mapCount))]),t._v(" "),n("button",{staticClass:"btn",class:t.addBtnClass,on:{click:t.addCount}},[t._v("Add")]),t._v(" "),n("div",[t._v(t._s(t.getVal))]),t._v(" "),n("ul",t._l(t.getVal,function(e){return n("li",{staticStyle:{color:"red"}},[t._v(t._s(e.text))])}),0),t._v(" "),n("div",{attrs:{href:"#"}},[t._v(t._s(t.todoCount))]),t._v(" "),n("a",{attrs:{href:""}},[t._v(t._s(t.doneTodoCount))]),t._v(" "),n("button",{staticStyle:{width:"50px",height:"50px"},on:{click:t.addMutaion}},[t._v("ADD")]),t._v(" "),n("button",{staticStyle:{width:"80px",height:"80px","background-color":"palevioletred"},on:{click:t.dispatchAction}},[t._v("派发actions")])])},staticRenderFns:[]};var x=n("VU/8")(k,A,!1,function(t){n("Lfnf")},"data-v-5e4430b2",null).exports,C=this,w={data:function(){return{haoroomsObj:{haoroomstestinner:{a:"我是haorooms资源库",b:"我是haorooms博客"}}}},watch:{newHaorooms:{handler:function(t,e){console.log("我变化了",t,e),console.log(C.show())},deep:!0}},computed:g()({newHaorooms:function(){return this.haoroomsObj}},Object(b.d)({myState:function(t){return t.count}}),{mulState:function(){return this.$store.getters.mulState}}),methods:{test1:function(t){console.log("发起事件"),t.target.setAttribute("disabled",!0),this.$store.dispatch("action1",{len:1}).then(function(t){console.log(t)})},changeVal:function(t){this.haoroomsObj.haoroomstestinner.a=Math.random()},show:function(){alert(123)}}},T={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box",staticStyle:{position:"relative"}},[n("button",{on:{click:function(e){return t.test1(e)}}},[t._v("派发事件")]),t._v(" "),n("span",[t._v(t._s(t.mulState))]),t._v(" "),n("button",{on:{click:function(e){return t.changeVal(e)}}},[t._v("改变数据对象")])])},staticRenderFns:[]},$=n("VU/8")(w,T,!1,null,null,null).exports,B={data:function(){return{}},computed:{countA:function(){return this.$store.state.A.countA},getterA:function(){return this.$store.getters.getterA}},methods:{click:function(){this.$store.commit("A/mutA")},dispatch:function(){var t=this;return new a.a(function(e,n){t.$store.dispatch("A/actionA").then(function(){e("完ascjkascakjsncjaksncsa")}).catch(function(){n("failed")})})},getPatch:function(){this.dispatch().then(function(t){alert(t)}).catch(function(t){alert(t)})}}},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n  "+t._s(t.countA)+"\n  "+t._s(t.getterA)+"\n  "),n("hr",{attrs:{color:"red"}}),t._v(" "),n("button",{on:{click:t.click}},[t._v("点击")]),t._v(" "),n("button",{on:{click:t.dispatch}},[t._v("派发")]),t._v(" "),n("button",{on:{click:t.getPatch}},[t._v("弹框")])])},staticRenderFns:[]},L=n("VU/8")(B,N,!1,null,null,null).exports,y={name:"sun",props:{sunProps:{type:Boolean,default:!1}},methods:{change:function(){this.thisObj.demo={name:""+parseInt(1e4*Math.random())}}},inject:["thisObj"]},S={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sun"},[this._v("\n  sun\n  "),e("button",{on:{click:this.change}},[this._v("Change")])])},staticRenderFns:[]};var O=n("VU/8")(y,S,!1,function(t){n("4ZUn")},"data-v-e8b1c6e6",null).exports,E={name:"child",props:{childProp:{type:Boolean,default:!1}},components:{Sun:O}},U={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"child"},[e("sun")],1)},staticRenderFns:[]};var I={data:function(){return{inputText:"",val:"12",demo:{name:"abc"}}},provide:function(){return{thisObj:this}},components:{Child:n("VU/8")(E,U,!1,function(t){n("SLc7")},"data-v-71d7c6cd",null).exports},computed:{},methods:{},watch:{val:function(t,e){console.log("change..."),console.log("newv",t),console.log("oldv",e)},demo:{handler:function(t,e){console.log("change..."),console.log("newv",t),console.log("oldv",e)},deep:!0},"demo.name":function(t,e){}}},V={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputText,expression:"inputText"}],attrs:{type:"text"},domProps:{value:t.inputText},on:{input:function(e){e.target.composing||(t.inputText=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.demo.name,expression:"demo.name"}],attrs:{type:"text"},domProps:{value:t.demo.name},on:{input:function(e){e.target.composing||t.$set(t.demo,"name",e.target.value)}}}),t._v(" "),n("child"),t._v(" "),n("h3",[t._v(t._s(t.val))])],1)},staticRenderFns:[]};var j=n("VU/8")(I,V,!1,function(t){n("7nEL")},null,null).exports,P={name:"Head",props:{goBack:{type:Boolean,default:!0},layIndex:{type:Number,default:100}},beforeRouteEnter:function(t,e,n){console.log(t.matched,e.matched)}},F={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-box",style:{zIndex:t.layIndex+100}},[t.goBack?n("div",{staticClass:"head-goback",on:{click:function(e){return t.$router.go(-1)}}},[t._m(0)]):t._e(),t._v(" "),t._t("title")],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"back-label"},[e("strong",{staticClass:"arrow"},[this._v("<")]),this._v(" 返回 ")])}]};var M=n("VU/8")(P,F,!1,function(t){n("Dllp")},"data-v-802fd2a6",null).exports,R={name:"Login",backBtn:!0,beforeCreate:function(){console.log("LOgin de beforeCreate")},data:function(){return{userName:""}},methods:{login:function(){var t=this;this.$store.dispatch("login",{token:1,userName:this.userName}).then(function(){t.$router.push("/three")})}},components:{vHeader:M}},q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"l-box"},[n("v-header",{attrs:{goBack:!0,"lay-index":2}},[n("div",{staticClass:"header-title",attrs:{slot:"title"},slot:"title"},[t._v("第二个页面")])]),t._v(" "),n("button",{on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:t.userName},on:{input:function(e){e.target.composing||(t.userName=e.target.value)}}}),t._v(" "),n("button",{on:{click:t.login}},[t._v("登录")])],1)},staticRenderFns:[]};var D=n("VU/8")(R,q,!1,function(t){n("AFde")},"data-v-3d057a98",null).exports,H={name:"Logout",beforeCreate:function(){console.log("Logout de beforeCreate")},computed:{userName:function(){return this.$store.state.userName}},methods:{logout:function(){var t=this;this.$store.dispatch("logout").then(function(){t.$router.push("/one")})}},components:{vHeader:M}},G={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lu-box"},[n("v-header",{attrs:{goBack:!0,"lay-index":3}},[n("div",{staticClass:"header-title",attrs:{slot:"title"},slot:"title"},[t._v("第三个页面")])]),t._v(" "),n("div",{staticClass:"lu-content"},[n("h3",[t._v("欢迎登录"+t._s(t.userName))]),t._v(" "),n("button",{on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")]),t._v(" "),n("button",{on:{click:t.logout}},[t._v("返回首页")])])],1)},staticRenderFns:[]};var J=n("VU/8")(H,G,!1,function(t){n("kak+")},"data-v-528b995b",null).exports,W={name:"Home",methods:{goTologout:function(){this.$router.push("/two")}},components:{vHeader:M}},X={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"h-box"},[e("v-header",{attrs:{goBack:!1,"lay-index":1}},[e("div",{staticClass:"header-title",attrs:{slot:"title"},slot:"title"},[this._v("首页")])]),this._v(" "),e("div",{staticClass:"h-content"},[e("button",{on:{click:this.goTologout}},[this._v("下一个页面")])])],1)},staticRenderFns:[]};var Z=n("VU/8")(W,X,!1,function(t){n("JFL5")},"data-v-514813e3",null).exports;d.a.use(p.a);var z,K=new p.a({mode:"hash",routes:[{path:"/",redirect:"/one"},{path:"/one",name:"one",component:Z,meta:{requireAuth:!0}},{path:"/two",name:"two",component:D,meta:{requireAuth:!1,sliderable:!0}},{path:"/three",name:"three",component:J,meta:{requireAuth:!1}},{path:"/123",name:"Counter",component:x,meta:{requireAuth:!0}},{path:"/pro",name:"Promise",component:$,meta:{requireAuth:!1}},{path:"/mod",name:"Module",component:L,meta:{requireAuth:!1}},{path:"/watcher",name:"Watcher",component:j,meta:{requireAuth:!1}}]}),Y={namespaced:!0,state:{countA:111},mutations:{mutA:function(t){t.countA++},mutAA:function(t,e){t.countA+=e.len}},getters:{getterA:function(t,e){return 10*t.countA}},actions:{actionA:function(t){return new a.a(function(e,n){setTimeout(function(){t.commit("mutAA",{len:888}),e()},1e3)})}}},Q={namespace:!0,state:{countB:0},mutations:{mutB:function(t){t.countB++},mutBB:function(t,e){t.countB+=e.len}},getters:{getterB:function(t,e){return 10*t.countB}},actions:{actionB:function(t){var e=this;return c()(s.a.mark(function n(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dispatch("actionBB",{len:666});case 2:return e.abrupt("return",new a.a(function(e,n){setTimeout(function(){t.commit("mutB"),e()},1e3)}));case 3:case"end":return e.stop()}},n,e)}))()},actionBB:function(t,e){var n=this;return c()(s.a.mark(function o(){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:setTimeout(function(){t.commit("mutBB",e)},1e3);case 1:case"end":return n.stop()}},o,n)}))()}}},tt="LOGIN_KEY",et="USER_NAME",nt=function(t,e){t&&"string"==typeof t&&localStorage.setItem(t,e)},ot=function(t){if(t&&"string"==typeof t)return localStorage.getItem(t)};n.d(e,"store",function(){return at}),d.a.use(b.a);var at=new b.a.Store({state:{count:0,todos:[{id:1,text:"haha",done:!0},{id:2,text:"hehe",done:!1}],isLogin:ot(tt)||0,userName:ot(et)||""},modules:{A:Y,B:Q},mutations:(z={increment:function(t,e){t.count+=e.len}},l()(z,"ADD_MUTATION",function(t){t.count+=10}),l()(z,"LOGIN_MUTATION",function(t,e){t.isLogin=e.token,t.userName=e.userName,nt(tt,e.token),nt(et,e.userName)}),l()(z,"LOGOUT_MUTATION",function(t){t.isLogin=0,t.userName="",nt(tt,0),nt(et,""),console.log(ot(et))}),z),getters:{doneTodos:function(t){return t.todos.filter(function(t){return t.done})},doneTodoCount:function(t,e){return e.doneTodos.length},mulState:function(t){return 10*t.count},userName:function(t){return t.userName}},actions:{action1:function(t,e){var n=this;return c()(s.a.mark(function e(){var o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dispatch("checkout",{len:1});case 2:return o=e.sent,e.abrupt("return",o);case 4:case"end":return e.stop()}},e,n)}))()},checkout:function(t,e){var n=t.commit;t.state;return new a.a(function(t,o){n("increment",{len:e.len}),t("提交完毕")})},login:function(t,e){var n=t.commit;t.state;return console.log(e),new a.a(function(t,o){n("LOGIN_MUTATION",e),t()})},logout:function(t){var e=t.commit;t.state;return new a.a(function(t,n){e("LOGOUT_MUTATION"),t()})}}});d.a.config.productionTip=!1,new d.a({el:"#app",router:K,store:at,components:{App:v},template:"<App/>"})},SLc7:function(t,e){},"kak+":function(t,e){},vLLw:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.580f6a59f058273bd316.js.map